<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <h1 style="display: none;">Konami Code Activated!</h1>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
<script>
  const konamiCode = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]
  let lastKeysPressed = []

  function getKey (e) {
    lastKeysPressed.push(parseInt(e.which))
    lastKeysPressed = lastKeysPressed.slice(konamiCode.length * -1)
    checkCode(lastKeysPressed)
  }

  function checkCode (arr) {
    let flag = true
    arr.map((key, index) => {
      if (key !== konamiCode[index]) return flag = false
    })
    if (flag === true && arr.length === konamiCode.length) {
      const el = document.querySelector('h1');
      el.style.display = 'block'
    }
  }

  window.addEventListener('keydown', getKey)
</script>
</body>
</html>
